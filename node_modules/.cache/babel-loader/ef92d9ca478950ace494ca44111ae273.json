{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newVerificationError = newVerificationError;\nexports.errorFactory = errorFactory;\nexports.errorFromEvent = errorFromEvent;\nexports.newInvalidMessageError = exports.newUserMismatchError = exports.newKeyMismatchError = exports.newUnexpectedMessageError = exports.newUnknownMethodError = exports.newUnknownTransactionError = exports.newTimeoutError = exports.newUserCancelledError = void 0;\n\nvar _event = require(\"../../models/event\");\n/*\nCopyright 2018 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n/**\n * Error messages.\n *\n * @module crypto/verification/Error\n */\n\n\nfunction newVerificationError(code, reason, extradata) {\n  extradata = extradata || {};\n  extradata.code = code;\n  extradata.reason = reason;\n  return new _event.MatrixEvent({\n    type: \"m.key.verification.cancel\",\n    content: extradata\n  });\n}\n\nfunction errorFactory(code, reason) {\n  return function (extradata) {\n    return newVerificationError(code, reason, extradata);\n  };\n}\n/**\n * The verification was cancelled by the user.\n */\n\n\nconst newUserCancelledError = errorFactory(\"m.user\", \"Cancelled by user\");\n/**\n * The verification timed out.\n */\n\nexports.newUserCancelledError = newUserCancelledError;\nconst newTimeoutError = errorFactory(\"m.timeout\", \"Timed out\");\n/**\n * The transaction is unknown.\n */\n\nexports.newTimeoutError = newTimeoutError;\nconst newUnknownTransactionError = errorFactory(\"m.unknown_transaction\", \"Unknown transaction\");\n/**\n * An unknown method was selected.\n */\n\nexports.newUnknownTransactionError = newUnknownTransactionError;\nconst newUnknownMethodError = errorFactory(\"m.unknown_method\", \"Unknown method\");\n/**\n * An unexpected message was sent.\n */\n\nexports.newUnknownMethodError = newUnknownMethodError;\nconst newUnexpectedMessageError = errorFactory(\"m.unexpected_message\", \"Unexpected message\");\n/**\n * The key does not match.\n */\n\nexports.newUnexpectedMessageError = newUnexpectedMessageError;\nconst newKeyMismatchError = errorFactory(\"m.key_mismatch\", \"Key mismatch\");\n/**\n * The user does not match.\n */\n\nexports.newKeyMismatchError = newKeyMismatchError;\nconst newUserMismatchError = errorFactory(\"m.user_error\", \"User mismatch\");\n/**\n * An invalid message was sent.\n */\n\nexports.newUserMismatchError = newUserMismatchError;\nconst newInvalidMessageError = errorFactory(\"m.invalid_message\", \"Invalid message\");\nexports.newInvalidMessageError = newInvalidMessageError;\n\nfunction errorFromEvent(event) {\n  const content = event.getContent();\n\n  if (content) {\n    const {\n      code,\n      reason\n    } = content;\n    return {\n      code,\n      reason\n    };\n  } else {\n    return {\n      code: \"Unknown error\",\n      reason: \"m.unknown\"\n    };\n  }\n}","map":{"version":3,"sources":["/home/kimist/Developpement/React/watcha_client/node_modules/matrix-js-sdk/lib/crypto/verification/Error.js"],"names":["Object","defineProperty","exports","value","newVerificationError","errorFactory","errorFromEvent","newInvalidMessageError","newUserMismatchError","newKeyMismatchError","newUnexpectedMessageError","newUnknownMethodError","newUnknownTransactionError","newTimeoutError","newUserCancelledError","_event","require","code","reason","extradata","MatrixEvent","type","content","event","getContent"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newVerificationError = newVerificationError;\nexports.errorFactory = errorFactory;\nexports.errorFromEvent = errorFromEvent;\nexports.newInvalidMessageError = exports.newUserMismatchError = exports.newKeyMismatchError = exports.newUnexpectedMessageError = exports.newUnknownMethodError = exports.newUnknownTransactionError = exports.newTimeoutError = exports.newUserCancelledError = void 0;\n\nvar _event = require(\"../../models/event\");\n\n/*\nCopyright 2018 New Vector Ltd\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n/**\n * Error messages.\n *\n * @module crypto/verification/Error\n */\nfunction newVerificationError(code, reason, extradata) {\n  extradata = extradata || {};\n  extradata.code = code;\n  extradata.reason = reason;\n  return new _event.MatrixEvent({\n    type: \"m.key.verification.cancel\",\n    content: extradata\n  });\n}\n\nfunction errorFactory(code, reason) {\n  return function (extradata) {\n    return newVerificationError(code, reason, extradata);\n  };\n}\n/**\n * The verification was cancelled by the user.\n */\n\n\nconst newUserCancelledError = errorFactory(\"m.user\", \"Cancelled by user\");\n/**\n * The verification timed out.\n */\n\nexports.newUserCancelledError = newUserCancelledError;\nconst newTimeoutError = errorFactory(\"m.timeout\", \"Timed out\");\n/**\n * The transaction is unknown.\n */\n\nexports.newTimeoutError = newTimeoutError;\nconst newUnknownTransactionError = errorFactory(\"m.unknown_transaction\", \"Unknown transaction\");\n/**\n * An unknown method was selected.\n */\n\nexports.newUnknownTransactionError = newUnknownTransactionError;\nconst newUnknownMethodError = errorFactory(\"m.unknown_method\", \"Unknown method\");\n/**\n * An unexpected message was sent.\n */\n\nexports.newUnknownMethodError = newUnknownMethodError;\nconst newUnexpectedMessageError = errorFactory(\"m.unexpected_message\", \"Unexpected message\");\n/**\n * The key does not match.\n */\n\nexports.newUnexpectedMessageError = newUnexpectedMessageError;\nconst newKeyMismatchError = errorFactory(\"m.key_mismatch\", \"Key mismatch\");\n/**\n * The user does not match.\n */\n\nexports.newKeyMismatchError = newKeyMismatchError;\nconst newUserMismatchError = errorFactory(\"m.user_error\", \"User mismatch\");\n/**\n * An invalid message was sent.\n */\n\nexports.newUserMismatchError = newUserMismatchError;\nconst newInvalidMessageError = errorFactory(\"m.invalid_message\", \"Invalid message\");\nexports.newInvalidMessageError = newInvalidMessageError;\n\nfunction errorFromEvent(event) {\n  const content = event.getContent();\n\n  if (content) {\n    const {\n      code,\n      reason\n    } = content;\n    return {\n      code,\n      reason\n    };\n  } else {\n    return {\n      code: \"Unknown error\",\n      reason: \"m.unknown\"\n    };\n  }\n}"]},"metadata":{},"sourceType":"script"}